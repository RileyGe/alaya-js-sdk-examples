<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/RileyGe/client-sdk-js@0.11.2/dist/web3a.js"></script>
    <script type="text/javascript">
        function checkAndConnect() {
            // Samurai钱包会向浏览器中注入provider:windows.alaya
            // 如果window.alaya存在，则说明已经安装了Samurai钱包
            if (window.alaya) {
                // 通过向alaya发送platon_requestAccounts请求，来进行Samurai钱包的连接。
                window.alaya.request({
                    method: 'platon_requestAccounts'
                });
                window.pw3 = new PW3(window.alaya);
            } else {
                alert('请安装Samurai')
            }
        }
        function sendATP(){
            let rawTx = {
                from: alaya.selectedAddress,
                to: "atp1886776udz7t32d9vj7sfcqrxugmpnzlj0zrl5x",
                value: 1e16
            }
            pw3.platon.sendTransaction(rawTx, function(err, transactionHash) {
                if (err) {
                    console.log(err);
                } else {
                    console.log(transactionHash);
                }
            });
        }
        function getTransInfo(){
            let transHash = "0x19bc42309dbf96be0a5ca5689fa8b8e1637a7877b9b295c748264162981fb050";
            pw3.platon.getTransaction(transHash).then(function(transInfo){
                console.log(transInfo);
            });
        }
    </script>
    <title>基础案例</title>
</head>
<body>
<button onclick="checkAndConnect()">连接钱包</button>
<button onclick="sendATP()">发送</button>
<button onclick="getTransInfo()">获取事件信息</button>
</body>
</html>